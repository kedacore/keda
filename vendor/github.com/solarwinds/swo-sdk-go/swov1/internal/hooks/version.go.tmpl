//go:generate
package hooks

import "net/http"

// APIVersion is the SWO API version extracted from gen.lock at build time
const APIVersion = "{{.DocVersion}}"

type VersionHook struct{}

var (
	_ beforeRequestHook = (*VersionHook)(nil)
)

func (v *VersionHook) BeforeRequest(hookCtx BeforeRequestContext, req *http.Request) (*http.Request, error) {
	req.Header.Set("SWO-API-Version", APIVersion)
	return req, nil
}